# JwtSecureStorage

Сервис для безопасного хранения и управления JWT токенами с использованием NestJS.

## Описание

JwtSecureStorage - это сервис, который предоставляет API для:

- Аутентификации пользователей
- Управления JWT токенами
- Безопасного хранения данных
- Работы с сессиями

## Требования

- Node.js (версия 14 или выше)
- PostgreSQL
- Docker и Docker Compose (опционально, для контейнеризации)

## Установка и запуск

### Production

Для запуска через Docker:

1. Настройте переменные окружения в `.env.prod`
2. Соберите и запустите контейнеры:

```bash
docker compose -f docker-compose.prod.yml up -d --build
```

### Управление через Makefile

Для удобства управления сервисом доступны следующие команды:

```bash
# Запуск в production режиме
make prod-up

# Остановка production сервиса
make prod-down

# Просмотр логов
make prod-logs

# Пересборка контейнеров
make prod-build

# Полная очистка (включая тома)
make prod-clean
```

### Локальная разработка

1. Установите зависимости:

```bash
npm install
```

2. Настройка окружения:

   - Скопируйте `.env.example` в `.env` для разработки
   - Скопируйте `.env.prod.example` в `.env.prod` для продакшена
   - Настройте переменные окружения в соответствии с вашим окружением

3. Запуск базы данных:

```bash
docker compose up -d --build
```

4. Запуск приложения в режиме разработки:

```bash
npm run start:dev
```

## API Документация

После запуска сервиса, Swagger документация доступна по адресу:

```
http://localhost:5000/api/docs
```

Для тестирования API также доступна Postman коллекция в директории `postman/`. Вы можете импортировать её в Postman для удобного тестирования эндпоинтов.

## Структура проекта

```
JwtSecureStorage/
├── src/                    # Исходный код приложения
├── test/                   # Тесты
├── postman/               # Postman коллекция
├── docker-compose.yml     # Конфигурация Docker для разработки
├── docker-compose.prod.yml # Конфигурация Docker для production
├── Makefile               # Утилиты для управления проектом
└── README.md              # Документация проекта
```
